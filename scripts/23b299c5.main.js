!function(){var a;Ember.LOG_VERSION=!1,a=window.Bridge=Ember.Application.create({rootElement:"#bridge-app"}),function(){this.Bridge.CONTRACTS=["1C","1D","1H","1S","1NT","2C","2D","2H","2S","2NT","3C","3D","3H","3S","3NT","4C","4D","4H","4S","4NT","5C","5D","5H","5S","5NT","6C","6D","6H","6S","6NT","7C","7D","7H","7S","7NT"],this.Bridge.PASS="PASS",this.Bridge.DOUBLE="X",this.Bridge.REDOUBLE="XX",this.Bridge.MODIFIERS=[a.DOUBLE,a.REDOUBLE],this.Bridge.BIDS=a.CONTRACTS.concat(a.MODIFIERS,[a.PASS]),this.Bridge.CARDS=["C2","C3","C4","C5","C6","C7","C8","C9","CT","CJ","CQ","CK","CA","D2","D3","D4","D5","D6","D7","D8","D9","DT","DJ","DQ","DK","DA","H2","H3","H4","H5","H6","H7","H8","H9","HT","HJ","HQ","HK","HA","S2","S3","S4","S5","S6","S7","S8","S9","ST","SJ","SQ","SK","SA"],this.Bridge.DIRECTIONS=["N","E","S","W"],this.Bridge.VULNERABILITIES=["NONE","NS","EW","BOTH"],this.Bridge.SUITS=["C","D","H","S"],this.Bridge.TRUMPS=a.SUITS.concat("NT"),this.Bridge.SIDES=["NS","EW"]}.call(this),function(){this.Bridge.EmailField=Ember.TextField.extend({type:"email",attributeBindings:["required"]})}.call(this),function(){this.Bridge.NumberField=Ember.TextField.extend({type:"number",attributeBindings:["min","max","step","required"]})}.call(this),function(){var b,c,d,e,f,g,h,i=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};g=function(a,b){var c,d,e;return e=a.map(function(a){return a[0]}).uniq(),c=f(e,b),d=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],Ember.copy(a).sort(function(a,b){return a[0]===b[0]?d.indexOf(a[1])-d.indexOf(b[1]):c.indexOf(a[0])-c.indexOf(b[0])})},f=function(a,b){var c,d;return c=["S","C"].filter(function(b){return i.call(a,b)>=0}),d=["H","D"].filter(function(b){return i.call(a,b)>=0}),c.contains(b)?c.splice(c.indexOf(b),1).concat(d.splice(0,1),c.splice(0,1),d.splice(0,1)):d.contains(b)?d.splice(d.indexOf(b),1).concat(c.splice(0,1),d.splice(0,1),c.splice(0,1)):c.length>=d.length?c.splice(0,1).concat(d.splice(0,1),c.splice(0,1),d.splice(0,1)):d.splice(0,1).concat(c.splice(0,1),d.splice(0,1),c.splice(0,1))},h=function(b,c){var d,e,f,g,h,i,j;return d=function(b){return a.CARDS.indexOf(b)},e=function(a,b){return b-a},f=b[0][0],h=b.filter(function(a){return a[0]===f}),g=h.map(d).sort(e),j=b.filter(function(a){return a[0]===c}),i=j.map(d).sort(e),a.CARDS[i[0]||g[0]]},c=function(b,c){var d;return d=a.DIRECTIONS.indexOf(b),c.map(function(b,c){return a.DIRECTIONS[(d+c)%4]})},b=function(b,c){var d,e,f,g,h,i,j,k,l;return d=c.filter(function(a){return/^\d/.test(a)}),j=d[d.length-1],null!=j?(e=a.DIRECTIONS.indexOf(b),k=c.indexOf(j),h=c.find(function(a,b){return a[1]===j[1]&&k%2===b%2}),i=c.indexOf(h),g=-1!==c.slice(k).indexOf("X")?"X":"",l=-1!==c.slice(k).indexOf("XX")?"X":"",f=a.DIRECTIONS[(e+i)%4],""+j+g+l+f):void 0},d=function(b,c,d){var e;return e=a.DIRECTIONS.indexOf(b),d.map(function(b,f){var g,i,j,k;return f>0&&0===f%4&&(i=Math.floor(f/4)-1,g=d.slice(4*i,4*i+4),j=h(g,c),k=g.indexOf(j),e+=k),a.DIRECTIONS[++e%4]})},e=function(a,b){var c;return c=parseInt(a[0],10),b-(c+6)},this.Bridge.Utils={sortCards:g,sortCardSuits:f,trickWinner:h,auctionDirections:c,auctionContract:b,playDirections:d,score:e}}.call(this),function(){this.Bridge.Auction=Ember.ArrayProxy.extend({init:function(){return this._super.apply(this,arguments),this.reindex()},arrangedContent:function(){return this.get("content").map(function(b){return a.Bid.create({compact:b})})}.property(),contentArrayWillChange:function(a,b,c){var d,e,f,g;if(c){for(g=[],d=e=b,f=b+c-1;f>=b?f>=e:e>=f;d=f>=b?++e:--e)g.push(this.get("arrangedContent").removeAt(d));return g}},contentArrayDidChange:function(b,c,d,e){var f,g,h,i;if(e){for(i=[],f=g=c,h=c+e-1;h>=c?h>=g:g>=h;f=h>=c?++g:--g)i.push(this.get("arrangedContent").insertAt(f,a.Bid.create({compact:b.objectAt(f)})));return i}},reindex:function(){var b=this;return a.Utils.auctionDirections(this.get("dealer"),this.get("content").concat("")).forEach(function(a,c){var d;return(d=b.objectAt(c))?d.setProperties({index:c,direction:a}):b.set("currentDirection",a)})}.observes("dealer","arrangedContent.@each"),isCompleted:function(){return this.get("length")>3&&this.slice(this.get("length")-3).everyProperty("isPass")}.property("length","@each.isPass"),currentSide:function(){return/N|S/.test(this.get("currentDirection"))?"NS":"EW"}.property("currentDirection"),contract:function(){var b;return b=a.Utils.auctionContract(this.get("dealer"),this.get("content")),null!=b?a.Contract.create({content:b}):void 0}.property("isCompleted","content.@each")})}.call(this),function(){this.Bridge.Bid=Ember.Object.extend({isContract:function(){return/^\d/.test(this.get("content"))}.property("content"),isPass:function(){return"PASS"===this.get("content")}.property("content"),isDouble:function(){return"X"===this.get("content")}.property("content"),isRedouble:function(){return"XX"===this.get("content")}.property("content"),isModifier:function(){return/^X/.test(this.get("content"))}.property("content"),level:function(){return this.get("isContract")?parseInt(this.get("content")[0],10):void 0}.property("content","isContract"),trump:function(){return this.get("isContract")?this.get("content").slice(1):void 0}.property("content","isContract"),side:function(){return/N|S/.test(this.get("direction"))?"NS":"EW"}.property("direction"),toString:function(){return this.get("content")},compact:function(a,b){var c;return 1===arguments.length?[this.get("content"),this.get("alert")].without(void 0).join("!"):(c=b.split("!",2),this.set("content",c[0]),this.set("alert",c[1]))}.property("content","alert")})}.call(this),function(){this.Bridge.Board=Ember.Object.extend({init:function(){return this._super.apply(this,arguments),this.set("auction",a.Auction.create({board:this,contentBinding:"board.bids",dealerBinding:"board.dealer"})),this.set("play",a.Play.create({board:this,contentBinding:"board.cards",contractBinding:"board.contract"}))},contract:function(){return this.get("auction.isCompleted")?this.get("auction.contract"):void 0}.property("auction.contract","auction.isCompleted"),currentDirection:function(){return this.get("auction.isCompleted")?this.get("play.currentDirection"):this.get("auction.currentDirection")}.property("auction.isCompleted","auction.currentDirection","play.currentDirection"),claim:function(b,c){return 2===arguments.length?c instanceof a.Claim?c:a.Claim.create(c):void 0}.property()})}.call(this),function(){this.Bridge.Card=Ember.Object.extend({value:function(){return this.get("content")[1]}.property("content"),suit:function(){return this.get("content")[0]}.property("content"),side:function(){return/N|S/.test(this.get("direction"))?"NS":"EW"}.property("direction"),isLead:function(){return 0===this.get("index")%4}.property("index"),trick:function(){return Math.floor(this.get("index")/4)}.property("index"),toString:function(){return this.get("content")}})}.call(this),function(){this.Bridge.Claim=Ember.Object.extend()}.call(this),function(){this.Bridge.Contract=Ember.Object.extend({level:function(){return parseInt(this.get("content")[0],10)}.property("content"),trump:function(){return/^\d(C|D|H|S|NT)/.exec(this.get("content"))[1]}.property("content"),direction:function(){return this.get("content").slice(-1)}.property("content"),isDoubled:function(){return/^\d(C|D|H|S|NT)X[^X]/.test(this.get("content"))}.property("content"),isRedoubled:function(){return/^\d(C|D|H|S|NT)XX/.test(this.get("content"))}.property("content"),side:function(){return/N|S/.test(this.get("direction"))?"NS":"EW"}.property("direction"),bid:function(){return/^[1-7](?:C|D|H|S|NT)/.exec(this.get("content"))[0]}.property("content"),toString:function(){return this.get("content")}})}.call(this),function(){this.Bridge.Play=Ember.ArrayProxy.extend({contract:function(b,c){return 2===arguments.length?null==c||c instanceof a.Contract?c:a.Contract.create({content:c}):void 0}.property(),arrangedContent:function(){return this.get("content").map(function(b){return a.Card.create({content:b})})}.property(),contentArrayWillChange:function(a,b,c){var d,e,f,g;if(c){for(g=[],d=e=b,f=b+c-1;f>=b?f>=e:e>=f;d=f>=b?++e:--e)g.push(this.get("arrangedContent").removeAt(d));return g}},contentArrayDidChange:function(b,c,d,e){var f,g,h,i;if(e){for(i=[],f=g=c,h=c+e-1;h>=c?h>=g:g>=h;f=h>=c?++g:--g)i.push(this.get("arrangedContent").insertAt(f,a.Card.create({content:b.objectAt(f)})));return i}},trumpBinding:"contract.trump",declarerBinding:"contract.direction",dummy:function(){return{N:"S",E:"W",S:"N",W:"E"}[this.get("declarer")]}.property("declarer"),lho:function(){return{N:"E",E:"S",S:"W",W:"N"}[this.get("declarer")]}.property("declarer"),rho:function(){return{N:"W",E:"N",S:"E",W:"S"}[this.get("declarer")]}.property("declarer"),init:function(){return this._super.apply(this,arguments),this.reindex()},reindex:function(){var b=this;return a.Utils.playDirections(this.get("declarer"),this.get("trump"),this.get("content").concat("")).forEach(function(a,c,d){var e,f;return(e=b.objectAt(c))?(f=4*Math.floor(c/4)+4,e.setProperties({index:c,direction:a,isWinning:a===d[f]})):b.set("currentDirection",a)})}.observes("declarer","trump","arrangedContent.@each"),isCompleted:function(){return 52===this.get("length")}.property("length"),currentSuit:function(){return 0!==this.get("length")%4?this.filterProperty("isLead").get("lastObject.suit"):void 0}.property("length","arrangedContent.@each")})}.call(this),function(){this.Bridge.Table=Ember.Object.extend({board:function(b,c){return 2===arguments.length?null==c||c instanceof a.Board?c:a.Board.create(c):void 0}.property()})}.call(this),function(){this.Bridge.BidView=Ember.View.extend({classNames:["hint--top","hint--rounded"],classNameBindings:["isAlerted:bid-alerted"],attributeBindings:["alertBody:data-hint"],templateName:"bid",tagName:"td",content:function(){switch(!1){case!this.get("bid.isPass"):return"Pass";case!this.get("bid.isDouble"):return"Dbl";case!this.get("bid.isRedouble"):return"Rdbl";case!this.get("bid.isContract"):switch(this.get("bid.trump")){case"C":return this.get("bid.level")+"<span class='suit-c'>♣</span>";case"D":return this.get("bid.level")+"<span class='suit-d'>♦</span>";case"H":return this.get("bid.level")+"<span class='suit-h'>♥</span>";case"S":return this.get("bid.level")+"<span class='suit-s'>♠</span>";default:return this.get("bid.content")}}}.property("bid.content"),isAlerted:function(){return!Ember.isNone(this.get("bid.alert"))}.property("bid.alert"),alertBody:function(){return Ember.isEmpty(this.get("bid.alert"))?!1:this.get("bid.alert")}.property("bid.alert")})}.call(this),function(){this.Bridge.AlertView=Ember.View.extend({classNames:["btn btn-warning"],classNameBindings:["active"],template:function(){return"Alert"},tagName:"button",active:function(){return this.get("context.isAlerted")}.property("context.isAlerted"),click:function(){return this.set("context.isAlerted",!this.get("context.isAlerted"))}})}.call(this),function(){this.Bridge.ContractLevelView=Ember.View.extend({classNames:["btn"],classNameBindings:["selected:btn-info"],attributeBindings:["disabled"],templateName:"bidding_box/contract_level",tagName:"button",selected:function(){return this.get("context.level")===this.get("level")}.property("context.level"),disabled:function(){return this.get("context.isCompleted")||a.CONTRACTS.indexOf(this.get("context.contractBid"))>=a.CONTRACTS.indexOf(this.get("level")+"NT")}.property("context.contractBid","context.isCompleted","level"),click:function(){return this.set("context.level",this.get("level"))}})}.call(this),function(){this.Bridge.ContractSuitView=Ember.View.extend({classNames:["btn"],attributeBindings:["disabled"],templateName:"bidding_box/contract_suit",tagName:"button",disabled:function(){return this.get("context.isCompleted")||a.CONTRACTS.indexOf(this.get("context.contractBid"))>=a.CONTRACTS.indexOf(this.get("context.level")+this.get("suit"))}.property("context.isCompleted","context.contractBid","context.level","suit"),symbol:function(){switch(this.get("suit")){case"C":return"<span class='suit-c'>♣</span>";case"D":return"<span class='suit-d'>♦</span>";case"H":return"<span class='suit-h'>♥</span>";case"S":return"<span class='suit-s'>♠</span>";default:return this.get("suit")}}.property("suit"),click:function(){return this.get("context").bid(this.get("context.level")+this.get("suit"))}})}.call(this),function(){this.Bridge.DoubleView=Ember.View.extend({classNames:["btn","btn-danger"],attributeBindings:["disabled"],templateName:"bidding_box/double",tagName:"button",disabled:function(){return this.get("context.isCompleted")||!this.get("context.contract")||this.get("context.isContractDoubled")||this.get("context.isContractRedoubled")||this.get("context.currentSide")===this.get("context.contractSide")}.property("context.isCompleted","context.isContractDoubled","context.isContractRedoubled","context.currentSide","context.contractSide"),click:function(){return this.get("context").bid("X")}})}.call(this),function(){this.Bridge.PassView=Ember.View.extend({classNames:["btn","btn-success"],attributeBindings:["disabled"],templateName:"bidding_box/pass",tagName:"button",disabled:function(){return this.get("context.isCompleted")}.property("context.isCompleted"),click:function(){return this.get("context").bid("PASS")}})}.call(this),function(){this.Bridge.RedoubleView=Ember.View.extend({classNames:["btn","btn-primary"],attributeBindings:["disabled"],templateName:"bidding_box/redouble",tagName:"button",disabled:function(){return this.get("context.isCompleted")||!this.get("context.isContractDoubled")||this.get("context.isContractRedoubled")||this.get("context.currentSide")!==this.get("context.contractSide")}.property("context.isCompleted","context.isContractDoubled","context.isContractRedoubled","context.currentSide","context.contractSide"),click:function(){return this.get("context").bid("XX")}})}.call(this),function(){this.Bridge.CardView=Ember.View.extend({classNames:["card"],classNameBindings:["isDisabled:disabled","suitClassName"],templateName:function(){var a;return a=this.get("card.value")?this.get("card.value").toLowerCase():"unknown","cards/"+a}.property("card.value"),templateNameDidChange:function(){var a=this;return Ember.run.next(function(){return a.rerender()})}.observes("templateName"),suitClassName:function(){return this.get("card.suit")?"suit-"+this.get("card.suit").toLowerCase():void 0}.property("card.suit"),isDisabled:!0})}.call(this),function(){this.Bridge.ClaimInfoView=Ember.View.extend({classNames:["alert alert-info"],templateName:"claim/claim_info",isClaimedBinding:"context.isClaimed",isVisible:function(){return this.get("isClaimed")}.property("isClaimed")})}.call(this),function(){this.Bridge.ClaimView=Ember.View.extend({classNames:["btn-group"],templateName:"claim/claim",directionBinding:"context.currentDirection",isVisible:function(){return!this.get("context.isClaimed")}.property("context.isClaimed"),range:function(){var a,b,c,d;for(d=[],a=b=0,c=this.get("context.max");c>=0?c>=b:b>=c;a=c>=0?++b:--b)d.push(a);return d}.property("context.max")})}.call(this),function(){this.Bridge.DirectionView=Ember.View.extend({classNames:["hand-direction"],classNameBindings:["current"],templateName:"direction",tagName:"h3",current:function(){return this.get("context.currentDirection")===this.get("direction")}.property("context.currentDirection")})}.call(this),function(){this.Bridge.HandCardView=a.CardView.extend({isDisabled:function(){return!this.get("context.isPlaying")||""===this.get("card.content")||this.get("context.currentDirection")!==this.get("ownerDirection")||null!=this.get("context.currentSuit")&&this.get("context.currentSuit")!==this.get("card.suit")&&this.get("context.hasCardInCurrentSuit")}.property("content","context.isPlaying","context.currentDirection","context.currentSuit","context.hasCardInCurrentSuit"),click:function(){return this.get("isDisabled")?void 0:this.get("context").playCard(this.get("card"))}})}.call(this),function(){this.Bridge.TableView=Ember.View.extend({directionBinding:"controller.signedInUserDirection",templateName:function(){return("table_"+(this.get("direction")||"S")).toLowerCase()}.property("direction"),templateNameDidChange:function(){var a=this;return Ember.run.next(function(){return Ember.run.next(function(){return a.rerender()})})}.observes("templateName")})}.call(this),function(){this.Bridge.TrickCardView=a.CardView.extend({classNameBindings:["orderClassName"],isVisible:function(){return!!this.get("card.value")}.property("card.value"),orderClassName:function(){return Ember.isNone(this.get("card.index"))?void 0:"order-"+this.get("card.index")%4}.property("card.index")})}.call(this),function(){this.Bridge.ApplicationController=Ember.Controller.extend()}.call(this),function(){this.Bridge.AuctionController=Ember.ArrayController.extend({needs:["table"],auctionBinding:"controllers.table.board.auction",dealerBinding:"controllers.table.board.auction.dealer",dealerIndex:function(){return a.DIRECTIONS.indexOf(this.get("dealer"))}.property("dealer"),content:function(){var a,b,c,d,e,f;if(b=this.get("dealerIndex"),a=this.get("auction.length"),null!=b&&a){for(d=Math.floor((b+this.get("auction.length")-1)/4),f=[],c=e=0;d>=0?d>=e:e>=d;c=d>=0?++e:--e)f.push(Ember.Object.create({n:this.get("auction.arrangedContent."+(4*c-b)),e:this.get("auction.arrangedContent."+(4*c-b+1)),s:this.get("auction.arrangedContent."+(4*c-b+2)),w:this.get("auction.arrangedContent."+(4*c-b+3))}));return f}return[]}.property("auction.@each","dealerIndex")})}.call(this),function(){this.Bridge.BiddingBoxController=Ember.Controller.extend({needs:["table"],auctionBinding:"controllers.table.board.auction",contractBinding:"auction.contract",contractDirectionBinding:"contract.direction",contractSideBinding:"contract.side",contractLevelBinding:"contract.level",contractTrumpBinding:"contract.trump",contractBidBinding:"contract.bid",isContractDoubledBinding:"contract.isDoubled",isContractRedoubledBinding:"contract.isRedoubled",currentDirectionBinding:"auction.currentDirection",currentSideBinding:"auction.currentSide",isCompletedBinding:"auction.isCompleted",isEnabled:function(){return!this.get("isCompleted")}.property("isCompleted"),descriptionDidChange:function(){return this.set("isAlerted",!Ember.isEmpty(this.get("description")))}.observes("description"),isAlertedDidChange:function(){return this.get("isAlerted")?void 0:this.set("description",void 0)}.observes("isAlerted"),bid:function(a){var b,c;return b=this.get("isAlerted")?this.get("description")||"":void 0,c=[a,b].without(void 0).join("!"),this.setProperties({level:null,description:void 0}),this.get("auction").pushObject(c)}})}.call(this),function(){this.Bridge.ClaimController=Ember.ObjectController.extend({needs:["table"],contentBinding:"controllers.table.board.claim",currentDirectionBinding:"controllers.table.board.play.currentDirection",play:null,playBinding:"controllers.table.board.play",isEnabled:function(){return!!this.get("play.contract")}.property("play.contract"),isClaimed:function(){return!Ember.isNone(this.get("tricks"))}.property("tricks"),winningCards:function(){var a;return null!=(a=this.get("play"))?a.filterProperty("isWinning"):void 0}.property("play.@each"),max:function(){var a;return 13-(null!=(a=this.get("winningCards"))?a.length:void 0)||0}.property("winningCards.@each"),claim:function(a){return this.setProperties({tricks:a,direction:this.get("currentDirection")})}})}.call(this),function(){this.Bridge.HandController=Ember.ArrayController.extend({needs:["table"],playBinding:"controllers.table.board.play",dummyBinding:"play.dummy",isDummy:function(){return this.get("direction")===this.get("dummy")}.property("direction","dummy"),init:function(){return this._super.apply(this,arguments),this.initialDidChange()},playDidChange:function(){var a;return(a=this.get("play"))?a.addArrayObserver(this,{willChange:this.playContentWillChange,didChange:this.playContentDidChange}):void 0}.observes("play.content.@each"),playWillChange:function(){var a;return(a=this.get("play"))?a.removeArrayObserver(this):void 0}.observesBefore("play.content.@each"),initialDidChange:function(){var b;return b=a.Utils.sortCards(this.get("initial")||["","","","","","","","","","","","",""],this.get("trump")),this.set("content",b.map(function(b){return a.Card.create({content:b})})),this.playContentDidChange(this.get("play"),0,0,this.get("play.length"))}.observes("initial","trump"),playContentWillChange:function(a,b,c){var d,e,f,g,h;if(c){for(h=[],e=f=b,g=b+c-1;g>=b?g>=f:f>=g;e=g>=b?++f:--f)d=a.objectAt(e),d.get("direction")===this.get("direction")?h.push(this.pushObject(d)):h.push(void 0);return h}},playContentDidChange:function(a,b,c,d){var e,f,g,h,i,j,k;if(d){for(k=[],h=i=b,j=b+d-1;j>=b?j>=i:i>=j;h=j>=b?++i:--i)e=a.objectAt(h),f=e.get("content"),e.get("direction")===this.get("direction")?(g=this.findProperty("content",f))?k.push(this.removeObject(g)):k.push(this.popObject()):k.push(void 0);return k}},currentSuitBinding:"play.currentSuit",currentDirectionBinding:"play.currentDirection",contractBinding:"play.contract",trumpBinding:"contract.trump",isPlaying:function(){return!!this.get("contract")}.property("contract"),hasCardInCurrentSuit:function(){return this.someProperty("suit",this.get("currentSuit"))}.property("@each","currentSuit"),playCard:function(a){return this.get("play").pushObject(a.get("content"))}}),a.register("controller:hand_n",a.HandController.extend({direction:"N",initialBinding:"controllers.table.content.board.n"})),a.register("controller:hand_e",a.HandController.extend({direction:"E",initialBinding:"controllers.table.content.board.e"})),a.register("controller:hand_s",a.HandController.extend({direction:"S",initialBinding:"controllers.table.content.board.s"})),a.register("controller:hand_w",a.HandController.extend({direction:"W",initialBinding:"controllers.table.content.board.w"}))}.call(this),function(){this.Bridge.SummaryController=Ember.Controller.extend({needs:["table"],auctionBinding:"controllers.table.board.auction",playBinding:"controllers.table.board.play",dealerBinding:"controllers.table.board.dealer",vulnerableBinding:"controllers.table.board.vulnerable",resultBinding:"controllers.table.board.result",contract:function(){return this.get("auction.isCompleted")?this.get("auction.contract"):void 0}.property("auction.isCompleted"),resultString:function(){var a;if(a=this.get("result"),!Ember.isNone(a))switch(!1){case!(a>0):return"+"+a;case 0!==a:return"=";case!(0>a):return""+a}}.property("result"),winningCards:function(){var a;return null!=(a=this.get("play"))?a.filterProperty("isWinning"):void 0}.property("play.@each.isWinning"),nsWonTricksNumber:function(){var a;return null!=(a=this.get("winningCards"))?a.filterProperty("side","NS").length:void 0}.property("winningCards.@each"),ewWonTricksNumber:function(){var a;return null!=(a=this.get("winningCards"))?a.filterProperty("side","EW").length:void 0}.property("winningCards.@each"),isNSvulnerable:function(){var a;return"BOTH"===(a=this.get("vulnerable"))||"NS"===a}.property("vulnerable"),isEWvulnerable:function(){var a;return"BOTH"===(a=this.get("vulnerable"))||"EW"===a}.property("vulnerable")})}.call(this),function(){this.Bridge.TableController=Ember.ObjectController.extend({needs:["bidding_box","hand_n","hand_e","hand_s","hand_w","trick","summary","auction","claim"],currentDirection:null,currentDirectionBinding:"board.currentDirection"})}.call(this),function(){this.Bridge.TrickController=Ember.Controller.extend({needs:["table"],playBinding:"controllers.table.board.play",trickNumberBinding:"play.lastObject.trick",getCard:function(a){var b,c=this;return null!=(b=this.get("play"))?b.find(function(b){return b.get("trick")===c.get("trickNumber")&&b.get("direction")===a}):void 0},n:function(){return this.getCard("N")}.property("trickNumber","play.@each"),e:function(){return this.getCard("E")}.property("trickNumber","play.@each"),s:function(){return this.getCard("S")}.property("trickNumber","play.@each"),w:function(){return this.getCard("W")}.property("trickNumber","play.@each")})}.call(this),function(){a.IndexRoute=Ember.Route.extend({redirect:function(){var a,b;return b=["NONE","EW","NS","BOTH"][Math.floor(4*Math.random())],a=["N","E","S","W"][Math.floor(4*Math.random())],this.transitionTo("/boards/2/"+b+"/"+a)}})}.call(this),function(){a.TableRoute=Ember.Route.extend({model:function(b){var c,d;return a.Table.create({board:{id:b.board_id,dealer:null!=(c=b.dealer)?c.toUpperCase():void 0,vulnerable:null!=(d=b.vulnerable)?d.toUpperCase():void 0,bids:[],cards:[],n:["SQ","ST","S6","S3","H7","DK","DT","D3","D2","CQ","C9","C7","C3"],e:["SA","SK","SJ","S8","DA","DJ","D7","D6","CA","CT","C8","C5","C4"],s:["S9","S7","S5","S2","HA","H8","H3","DQ","D8","D5","D4","C6","C2"],w:["S4","HK","HQ","HJ","HT","H9","H6","H5","H4","H2","D9","CK","CJ"],result:null,claim:null}})},serialize:function(a){return{board_id:a.get("board.id"),vulnerable:a.get("board.vulnerable"),dealer:a.get("board.dealer")}}})}.call(this),function(){a.Router.map(function(){return this.route("table",{path:"/boards/:board_id/:vulnerable/:dealer"})})}.call(this)}.call(this);